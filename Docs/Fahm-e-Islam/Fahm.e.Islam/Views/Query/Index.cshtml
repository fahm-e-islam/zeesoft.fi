@model Fahm_e_Islam.Models.MessageViewModel

@{
    ViewBag.Title = "Register";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<script>
    function OnStarted() {
        //show msg div with text: "Submitting..."
        $('#divMsgBack').fadeIn(1000);
        $('#divMsgBack').removeClass('hide');
        $('#divMsgBack').text('Submitting...');
    }
    function OnCompleted() {
        $("#divMsgBack").delay(5000).fadeOut(2000);
        //hide div
        $('.form-control').val('');
        
    }
</script>


<div class="panel panel-primary">
    <div class="panel-heading text-center"><h2>Your Message</h2></div>
    <div class="panel-body">
        <div class="col-sm-7">
            @using (Ajax.BeginForm("Index","Query", new AjaxOptions { HttpMethod="POST",UpdateTargetId="divMsgBack",
                OnBegin="OnStarted",
                OnComplete="OnCompleted"})
                )
            {
                @Html.AntiForgeryToken()

                <div class="form-horizontal">
                    @Html.ValidationSummary(true)


                    <div class="form-group">
                        @Html.LabelFor(model => model.Subject, new { @class = "control-label col-md-2" })
                        <div class="col-md-8">
                            @Html.TextBoxFor(model => model.Subject, new { @class = "form-control" })
                            @Html.ValidationMessageFor(model => model.Subject)
                        </div>
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(model => model.FullName, new { @class = "control-label col-md-2" })
                        <div class="col-md-8">
                            @Html.TextBoxFor(model => model.FullName, new { @class = "form-control" })
                            @Html.ValidationMessageFor(model => model.FullName)
                        </div>
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(model => model.Email, new { @class = "control-label col-md-2" })
                        <div class="col-md-8">
                            @Html.EditorFor(model => model.Email, new { @class = "form-control" })
                            @Html.ValidationMessageFor(model => model.Email)
                        </div>
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(model => model.PhoneNo, new { @class = "control-label col-md-2" })
                        <div class="col-md-8">
                            @Html.TextBoxFor(model => model.PhoneNo, new { @class = "form-control" })
                            @Html.ValidationMessageFor(model => model.PhoneNo)
                        </div>
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(model => model.City, new { @class = "control-label col-md-2" })
                        <div class="col-md-8">
                            @Html.TextBoxFor(model => model.City, new { @class = "form-control" })
                            @Html.ValidationMessageFor(model => model.City)
                        </div>
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(model => model.Country, new { @class = "control-label col-md-2" })
                        <div class="col-md-8">
                            @Html.TextBoxFor(model => model.Country, new { @class = "form-control" })
                            @Html.ValidationMessageFor(model => model.Country)
                        </div>
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(model => model.Message, new { @class = "control-label col-md-2" })
                        <div class="col-md-8">
                            @Html.TextAreaFor(model => model.Message, new { @class = "form-control" })
                            @Html.ValidationMessageFor(model => model.Message)
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="col-md-offset-2 col-md-8">
                            <input type="submit" value="Send" class="btn btn-default" />
                        </div>
                    </div>

                    <div id="divMsgBack" class="alert alert-success hide" role="alert">
                    </div>
                </div>
            }

        </div>
        <div class="pull-right">
            <img src="~/Content/pics/samexecutive_small.jpg" class="img-responsive img-thumbnail img-rounded" />
        </div>
    </div>
</div>

